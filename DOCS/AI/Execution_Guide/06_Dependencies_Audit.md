# Аудит зависимостей проекта CoolTodo

**Дата проверки:** 2024-12-XX  
**Статус:** Требуется обновление

## Резюме

Проведена проверка актуальности всех библиотек и зависимостей проекта. Выявлены области, требующие обновления.

## Frontend зависимости (package.json)

### Текущие версии

| Пакет | Текущая версия | Статус |
|-------|----------------|--------|
| vue | ^3.5.0 | ✅ Актуально |
| vite | ^7.2.0 | ✅ Актуально |
| @vitejs/plugin-vue | ^5.0.0 | ✅ Актуально |

### Рекомендации

- Зависимости актуальны
- Регулярно проверять через `npm outdated`
- Обновлять минорные и патч-версии по мере выхода

## Backend зависимости (composer.json)

### Production зависимости

| Пакет | Текущая версия | Статус |
|-------|----------------|--------|
| php | ^8.3 | ✅ Актуально |
| laravel/framework | ^11.0 | ✅ Актуально |
| laravel/sanctum | ^4.0 | ✅ Актуально |
| laravel/tinker | ^2.9 | ✅ Актуально |

### Dev зависимости

| Пакет | Текущая версия | Статус |
|-------|----------------|--------|
| fakerphp/faker | ^1.23 | ⚠️ Требует проверки |
| laravel/pint | ^1.13 | ✅ Актуально |
| laravel/sail | ^1.26 | ✅ Актуально |
| mockery/mockery | ^1.6 | ✅ Актуально |
| nunomaduro/collision | ^8.0 | ✅ Актуально |
| phpunit/phpunit | ^11.0 | ✅ Актуально |
| spatie/laravel-ignition | ^2.4 | ✅ Актуально |
| larastan/larastan | ^2.9 | ✅ Актуально |
| phpstan/phpstan | ^1.12.17 | ✅ Актуально |
| friendsofphp/php-cs-fixer | ^3.0 | ✅ Актуально |

### Рекомендации

- Большинство зависимостей актуальны
- Проверить `fakerphp/faker` на наличие обновлений
- Регулярно проверять через `composer outdated`

## Docker зависимости

### Проблемы

| Компонент | Текущая версия | Проблема | Рекомендация |
|-----------|----------------|----------|--------------|
| xdebug | 3.3.0 | Зафиксирована старая версия | Обновить до последней 3.x |

### Детали

В `Dockerfile` (строка 19) зафиксирована версия Xdebug 3.3.0:
```dockerfile
RUN pecl install xdebug-3.3.0 && docker-php-ext-enable xdebug
```

**Рекомендация:** Обновить до последней стабильной версии Xdebug 3.x для получения последних исправлений и улучшений.

## Созданные задачи

### Задача A8: Обновить зависимости проекта

**Приоритет:** Medium  
**Оценка:** 0.5 дня  
**Зависимости:** A1

**Шаги выполнения:**

1. Проверить устаревшие зависимости:
   ```bash
   cd frontend && npm outdated
   cd ../backend && composer outdated
   ```

2. Обновить устаревшие зависимости:
   ```bash
   # Frontend
   cd frontend
   npm update
   npm audit fix
   
   # Backend
   cd backend
   composer update --with-all-dependencies
   ```

3. Проверить совместимость обновлений
4. Запустить тесты после обновления
5. Обновить lock-файлы (package-lock.json, composer.lock)

**Критерии приемки:**
- Все зависимости проверены через `npm outdated` и `composer outdated`
- Устаревшие зависимости обновлены
- Все тесты проходят после обновления
- Lock-файлы обновлены

### Задача A9: Обновить Xdebug в Dockerfile

**Приоритет:** Medium  
**Оценка:** 0.25 дня  
**Зависимости:** A3

**Шаги выполнения:**

1. Проверить последнюю версию Xdebug 3.x:
   ```bash
   pecl list-all | grep xdebug
   ```

2. Обновить версию в `Dockerfile`:
   ```dockerfile
   RUN pecl install xdebug && docker-php-ext-enable xdebug
   ```
   (или указать конкретную последнюю версию)

3. Проверить сборку Docker образа:
   ```bash
   docker build -t cooltodo-test .
   ```

4. Убедиться, что отладка работает корректно

**Критерии приемки:**
- Xdebug обновлен до последней версии 3.x
- Docker образ собирается без ошибок
- Отладка работает корректно

## План регулярной проверки

Рекомендуется проводить аудит зависимостей:

- **Еженедельно:** Проверка через `npm outdated` и `composer outdated`
- **Ежемесячно:** Полный аудит с обновлением минорных версий
- **Ежеквартально:** Полный аудит с обновлением мажорных версий (требует тщательного тестирования)

## Инструменты для проверки

### Frontend
```bash
cd frontend
npm outdated          # Показать устаревшие пакеты
npm audit             # Проверить уязвимости безопасности
npm update            # Обновить пакеты
```

### Backend
```bash
cd backend
composer outdated     # Показать устаревшие пакеты
composer audit        # Проверить уязвимости безопасности (если доступно)
composer update       # Обновить пакеты
```

## Примечания

- Context7 MCP сервер не используется напрямую для проверки зависимостей
- Используются стандартные инструменты экосистемы (npm, composer)
- При обновлении мажорных версий требуется тщательное тестирование
- Рекомендуется использовать автоматизированные инструменты (Dependabot, Renovate) для мониторинга обновлений



