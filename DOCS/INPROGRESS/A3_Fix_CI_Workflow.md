# Task A3-Fix-CI: Исправление ошибок в GitHub Actions CI workflow

**Статус**: Open (готово к выполнению)
**Начало**: 2025-11-29
**Приоритет**: High
**Оценка**: 0.5 дня

## Описание

Исправить оставшиеся ошибки в GitHub Actions CI workflow, связанные с нестандартной структурой проекта (Laravel в `backend/` директории). Основная проблема - отсутствие `package-lock.json` для npm ci.

## Проблемы

### Проблема: Отсутствует package-lock.json для npm ci

**Ошибка**:
```
npm error The `npm ci` command can only install with an existing package-lock.json or
npm error npm-shrinkwrap.json with lockfileVersion >= 1.
```

**Причина**:
- В CI workflow используется команда `npm ci` (строка 50), которая требует наличия `package-lock.json`
- Файл `package-lock.json` существует в `frontend/` и закоммичен в репозиторий
- Нужно убедиться, что `npm ci` работает корректно

**Решение**:
- Проверить, что `package-lock.json` закоммичен в репозиторий
- Убедиться, что `npm ci` в CI workflow работает корректно
- Если проблемы остаются, проверить версию npm и совместимость

## Зависимости

- [x] A2: Настроить CI пайплайн (Completed ✅)
- [x] A2-Fix: Устранение ошибок CI пайплайна (конфликт версий PHPStan) (Completed ✅)
- [x] A2-Fix-Artisan: Исправление пути к artisan в CI (Completed ✅)
- [ ] A4: Исправление путей .env в CI workflow (In Progress)

## План выполнения

### Шаг 1: Проверить package-lock.json

- [x] Проверить наличие `package-lock.json` в `frontend/` директории
- [x] Убедиться, что файл закоммичен в репозиторий
- [ ] Проверить версию lockfileVersion в package-lock.json
- [ ] Убедиться, что версия совместима с npm ci

### Шаг 2: Тестирование npm ci

- [ ] Запустить `npm ci` локально в `frontend/` директории
- [ ] Проверить, что команда выполняется без ошибок
- [ ] Запустить CI пайплайн и убедиться, что `npm ci` работает корректно

### Шаг 3: Проверка других шагов workflow

- [ ] Убедиться, что все шаги workflow выполняются успешно
- [ ] Проверить, что тесты выполняются корректно
- [ ] Убедиться, что сборка frontend работает

## Критерии приемки

✅ `package-lock.json` существует и закоммичен в репозиторий
✅ `npm ci` успешно выполняется в CI workflow
✅ Все шаги CI пайплайна выполняются успешно
✅ Тесты выполняются корректно

## Заметки

- Проблемы с путями к `artisan` уже решены в задаче A2-Fix-Artisan
- Проблемы с путями к `.env` решаются в задаче A4
- Проблемы с путями в `composer.json` уже решены в задаче A2-Fix-Artisan

## Связанные задачи

- A4: Исправление путей .env в CI workflow (связанная задача)
- A2-Fix-Artisan: Исправление пути к artisan в CI (Completed ✅)
