# Task D3.5: Написать E2E тест для удаления задач

**Статус**: In Progress  
**Начало**: 2025-01-27  
**Приоритет**: High  
**Оценка**: 0.5 дня

## Описание

Написать E2E тест для проверки удаления задач через UI. Тест должен проверить удаление одной задачи (кнопка Delete) и удаление всех completed задач (кнопка "Clear completed").

## Зависимости

- [x] D3.1: Настроить Laravel Dusk для E2E тестов (Completed ✅)
- [x] C7: Реализовать кнопку "Clear completed" (Completed ✅)
- [x] C2: Реализовать компонент TodoItem (Completed ✅)

## Текущее состояние

Тесты для создания, редактирования, переключения статуса и фильтрации существуют. Нужно создать тест для удаления.

## Требования

### Цель

Создать E2E тест, который:
- Удаляет одну задачу через кнопку Delete
- Удаляет все completed задачи через "Clear completed"
- Проверяет, что задачи исчезают из списка
- Проверяет обновление счетчика

### Функциональность

1. **Удаление одной задачи**:
   - Создать задачу
   - Найти кнопку Delete (появляется при hover)
   - Кликнуть на кнопку
   - Подтвердить удаление в диалоге
   - Проверить, что задача исчезла

2. **Удаление всех completed задач**:
   - Создать несколько задач (active и completed)
   - Найти кнопку "Clear completed"
   - Кликнуть на кнопку
   - Подтвердить удаление
   - Проверить, что completed задачи исчезли
   - Проверить, что active задачи остались

3. **Проверка счетчика**:
   - Проверить обновление счетчика после удаления

## План выполнения

### Шаг 1: Создание теста
- [ ] Создать `DeleteTodoTest.php` в `tests/Browser/`
- [ ] Наследовать от `DuskTestCase`

### Шаг 2: Реализация теста удаления одной задачи
- [ ] Создать задачу
- [ ] Найти кнопку Delete (hover для показа)
- [ ] Кликнуть на кнопку
- [ ] Подтвердить в диалоге
- [ ] Проверить, что задача исчезла

### Шаг 3: Реализация теста "Clear completed"
- [ ] Создать несколько задач
- [ ] Пометить некоторые как completed
- [ ] Найти кнопку "Clear completed"
- [ ] Кликнуть и подтвердить
- [ ] Проверить результат

## Критерии приемки

✅ Тест удаляет одну задачу через кнопку Delete  
✅ Тест подтверждает удаление в диалоге  
✅ Тест удаляет все completed задачи через "Clear completed"  
✅ Тест проверяет, что задачи исчезают из списка  
✅ Тест проверяет обновление счетчика  
✅ Тест проходит успешно

## Прогресс

Начато: 2025-01-27

