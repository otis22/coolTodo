# Task B5.1: Исправить окружение БД для feature тестов

**Статус**: Completed ✅  
**Завершено**: 2025-01-27

## Краткое описание

Исправлена проблема с выполнением миграций в feature тестах. Настроена тестовая БД и обновлена конфигурация PHPUnit.

## Основные результаты

- ✅ Создана БД `cooltodo_test` в MySQL
- ✅ Обновлен `phpunit.xml` с переменными окружения для БД
- ✅ Исправлены типы параметров в контроллере (string вместо int)
- ✅ Все 11 feature тестов проходят (29 assertions)
- ✅ RefreshDatabase работает корректно

## Ключевые решения

- Добавлены переменные окружения в `phpunit.xml`: DB_HOST, DB_PORT, DB_DATABASE, DB_USERNAME, DB_PASSWORD
- Изменены типы параметров `$id` с `int` на `string` в контроллере (Laravel передает строки из routes)
- Добавлены ограничения `->where('id', '[0-9]+')` в routes для валидации

## Связанные задачи

- B5: Реализовать API контроллеры
- B5.2: Универсальная конфигурация БД для тестов

