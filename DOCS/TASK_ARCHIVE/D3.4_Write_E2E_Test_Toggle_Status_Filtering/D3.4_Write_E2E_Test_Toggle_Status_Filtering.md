# Task D3.4: Написать E2E тест для переключения статуса и фильтрации

**Статус**: Completed ✅  
**Начало**: 2025-01-27  
**Приоритет**: High  
**Оценка**: 0.5 дня

## Описание

Написать E2E тест для проверки переключения статуса задачи (checkbox) и фильтрации задач (All/Active/Completed). Тест должен проверить работу фильтров и переключение статуса через UI.

## Зависимости

- [x] D3.1: Настроить Laravel Dusk для E2E тестов (Completed ✅)
- [x] C4: Реализовать фильтрацию (Completed ✅)
- [x] C2: Реализовать компонент TodoItem (Completed ✅)

## Текущее состояние

Тесты для создания и редактирования существуют. Нужно создать тест для переключения статуса и фильтрации.

## Требования

### Цель

Создать E2E тест, который:
- Создает несколько задач (active и completed)
- Переключает статус задачи через checkbox
- Проверяет работу фильтров (All, Active, Completed)
- Проверяет обновление счетчика

### Функциональность

1. **Создание задач**:
   - Создать несколько задач для тестирования

2. **Переключение статуса**:
   - Найти checkbox задачи
   - Кликнуть на checkbox
   - Проверить, что статус изменился (текст зачеркнут для completed)

3. **Фильтрация**:
   - Проверить фильтр "All" (показывает все задачи)
   - Проверить фильтр "Active" (показывает только active)
   - Проверить фильтр "Completed" (показывает только completed)

4. **Счетчик**:
   - Проверить обновление счетчика при переключении статуса

## План выполнения

### Шаг 1: Создание теста
- [ ] Создать `ToggleStatusAndFilteringTest.php` в `tests/Browser/`
- [ ] Наследовать от `DuskTestCase`

### Шаг 2: Реализация теста переключения статуса
- [ ] Создать задачу
- [ ] Найти checkbox
- [ ] Кликнуть на checkbox
- [ ] Проверить, что статус изменился

### Шаг 3: Реализация теста фильтрации
- [ ] Создать несколько задач (active и completed)
- [ ] Проверить фильтр "All"
- [ ] Проверить фильтр "Active"
- [ ] Проверить фильтр "Completed"

### Шаг 4: Проверка счетчика
- [ ] Проверить обновление счетчика

## Критерии приемки

✅ Тест переключает статус задачи через checkbox  
✅ Тест проверяет работу фильтра "All"  
✅ Тест проверяет работу фильтра "Active"  
✅ Тест проверяет работу фильтра "Completed"  
✅ Тест проверяет обновление счетчика  
✅ Тест проходит успешно

## Прогресс

Начато: 2025-01-27

