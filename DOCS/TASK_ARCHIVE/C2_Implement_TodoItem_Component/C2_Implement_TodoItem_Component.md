# Task C2: Реализовать компонент TodoItem

**Статус**: Completed ✅  
**Начало**: 2025-01-27  
**Приоритет**: High  
**Оценка**: 2 дня

## Описание

Реализовать компонент `TodoItem` для отображения отдельной задачи. Компонент должен отображать задачу, обрабатывать события (переключение статуса, удаление).

## Зависимости

- [x] C1: Создать API сервис (TodoApiService) (Completed ✅)

## Текущее состояние

В `frontend/src/components/TodoItem.vue` есть только заглушка с TODO комментариями.

## Требования

### Цель

Создать компонент, который:
- Отображает задачу (чекбокс, текст)
- Обрабатывает переключение статуса через чекбокс
- Обрабатывает удаление задачи через кнопку
- Использует Composition API
- Интегрируется с API сервисом

### Функциональность

1. **Отображение задачи**:
   - Чекбокс для статуса (checked = completed)
   - Текст задачи
   - Кнопка удаления (×) при наведении

2. **Обработка событий**:
   - Переключение статуса через чекбокс → вызов `toggleStatus(id)`
   - Удаление через кнопку → вызов `deleteTodo(id)`
   - Эмит событий для родительского компонента (опционально)

3. **Стилизация**:
   - Завершенные задачи должны быть визуально отмечены (зачеркнуты, серый цвет)
   - Кнопка удаления видна только при наведении
   - Плавные переходы

### Примечание

Редактирование по double-click (Enter/Escape) будет реализовано в задаче C6, поэтому в C2 его не нужно делать.

## План выполнения

### Шаг 1: Структура компонента
- [x] Определить props (todo object) ✅
- [x] Определить emits (updated, deleted) ✅
- [x] Создать базовую разметку ✅

### Шаг 2: Логика компонента
- [x] Реализовать переключение статуса ✅
- [x] Реализовать удаление задачи ✅
- [x] Добавить обработку ошибок ✅

### Шаг 3: Стилизация
- [x] Добавить стили для чекбокса ✅
- [x] Добавить стили для текста задачи ✅
- [x] Добавить стили для кнопки удаления ✅
- [x] Добавить стили для завершенных задач ✅
- [x] Добавить hover эффекты ✅

## Критерии приемки

✅ Компонент отображает задачу корректно  
✅ Чекбокс переключает статус через API  
✅ Кнопка удаления удаляет задачу через API  
✅ Завершенные задачи визуально отмечены  
✅ Кнопка удаления видна только при наведении  
✅ Компонент готов к использованию в TodoList

## Реализация

### Реализованные функции

1. **Props**:
   - `todo` - объект задачи с полями: `id`, `title`, `status`

2. **Emits**:
   - `updated` - эмитируется при обновлении задачи (после переключения статуса)
   - `deleted` - эмитируется при удалении задачи

3. **Computed**:
   - `isCompleted` - вычисляет, завершена ли задача (status === 'completed')

4. **Методы**:
   - `handleToggleStatus()` - переключает статус через API `toggleStatus()`
   - `handleDelete()` - удаляет задачу через API `deleteTodo()` с подтверждением

5. **Состояние**:
   - `isLoading` - блокирует действия во время выполнения запросов

### Стилизация

- ✅ Чекбокс для статуса (24x24px)
- ✅ Текст задачи с адаптивным переносом
- ✅ Кнопка удаления (×) видна только при наведении
- ✅ Завершенные задачи: зачеркнуты, серый цвет, пониженная прозрачность
- ✅ Плавные переходы для всех интерактивных элементов
- ✅ Hover эффекты для всего элемента и кнопки удаления

## Прогресс

Начато: 2025-01-27  
Завершено: 2025-01-27

