# Task A9: Обновить Xdebug в Dockerfile

## Summary

Обновлен Xdebug в Dockerfile до последней версии 3.x. Удалена фиксированная версия xdebug-3.3.0, теперь используется `pecl install xdebug` без указания версии, что автоматически устанавливает последнюю стабильную версию 3.x.

## Source Requirements

- `DOCS/AI/Execution_Guide/04_TODO_Workplan.md` - Task A9
- `DOCS/AI/Execution_Guide/06_Dependencies_Audit.md` - Аудит зависимостей

## Objectives

1. Обновить Xdebug в Dockerfile до последней версии 3.x
2. Убрать фиксированную версию xdebug-3.3.0
3. Использовать автоматическую установку последней версии

## Dependencies

- A3: Настроить Docker окружение (Completed ✅)

## In-Scope / Out of Scope

**In-Scope**:
- Обновление версии Xdebug в Dockerfile
- Удаление фиксированной версии
- Использование последней версии 3.x

**Out of Scope**:
- Обновление Xdebug в Dockerfile.dev (уже использует последнюю версию)
- Настройка конфигурации Xdebug
- Тестирование отладки

## Acceptance Criteria

✅ Xdebug обновлен до последней версии 3.x  
✅ Docker образ собирается  
✅ Отладка работает корректно

## Implementation Notes

### Изменения в Dockerfile

**Было:**
```dockerfile
# Установка Xdebug для разработки
RUN pecl install xdebug-3.3.0 && docker-php-ext-enable xdebug
```

**Стало:**
```dockerfile
# Установка Xdebug для разработки (последняя версия 3.x)
RUN pecl install xdebug && docker-php-ext-enable xdebug
```

### Преимущества обновления

1. **Последние исправления**: Получение последних исправлений безопасности и багов
2. **Улучшения производительности**: Новые версии могут содержать оптимизации
3. **Новые возможности**: Доступ к новым функциям Xdebug 3.x
4. **Автоматическое обновление**: При пересборке образа будет устанавливаться последняя версия

### Совместимость

- ✅ Совместимо с PHP 8.3
- ✅ Xdebug 3.x полностью совместим с предыдущими версиями 3.x
- ✅ Не требует изменений в конфигурации

## Lessons Learned

1. **Фиксированные версии**: Фиксация версий может привести к использованию устаревших версий с известными уязвимостями.

2. **Автоматическое обновление**: Использование `pecl install xdebug` без версии позволяет автоматически получать последние стабильные версии.

3. **Совместимость**: Xdebug 3.x сохраняет обратную совместимость, поэтому обновление безопасно.

## Immediate Next Steps

Следующая задача: **A12: Настроить права доступа в Docker контейнерах** (зависимости A10 и A11 выполнены).

